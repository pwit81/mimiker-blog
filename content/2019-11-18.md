Title: #3 bi-weekly progress report
Date: 2019-11-18 16:00
Category: Blog

Good news everyone, reporting progress in Mimiker development!

### Preliminary virtual address space manager (vmem) implementation (by JPsz)

The kernel needs to keep track of allocated memory regions, both for
physical and virtual memory. Regions of pyhical memory are handled by
physmem subsystem of Mimiker (using classy buddy algorithm btw), while
virtual mem regions have been managed in an ad hoc way so far. This
will change in a near future: JPSz ported a variant of vmem subsystem
from NetBSD, thus providing abstractions of memory arenas, spans and
segments. An arena is a container of disjoint spans and each span
consists of disjoint segments. Here both spans and segments represent
contigous virtual memory addresses. Note that vmem doesn't allocate
physical memory, but only provides bookkeping services. It may e.g. be
useful in kmem (i.e. kernel memory allocator) implementation.

[//]: # (Komentarz w pull requeście b. pomocny)

### Kernel can be parsed by Clang for static analysis purposes (by JPiec)

As the Mimiker kernel grows big, it's certainly being poisoned by a
stream of subtle bugs, unavoidable in any larger project. Althrough
fully automatic bug discovery is infeasible (simply speaking), some of
them, like arithmetic errors or some cases of invalid memory
dereferences, can be handled by means of static analysis. The Clang
framework offers industry-standard static analyses almost off the
shelve and we'll make use of it! 

[//]: # (Komentarz w pull requeście b. pomocny)


### Implement VFS name resolver - generalized version of `vfs_lookup` (by JUrb)

Mimiker's Virtual FileSystem interface has became a bit more
mature. Function vfs_nameresolve, the wrapper of which is the
path-to-vnode resolver vfs_lookup, had its interface generalized and
is now also able to fetch parent file vnode.

[//]: # (Komentarz którymś z commitów. Gdyby był w pull requeście, byłby bardziej pomocny)

### Link cpio nodes with v-nodes correctly for initrd file system (by JSzcz)

In unix-like systems an initial ramdisk, initrd, serves as a primary
boot-time filesystem in which both kernel and loadable kernel modules
(device drivers) are stored. The initrd image of Mimiker's kernel is
stored in the form of cpio archive, which must be correctly handled by
vfs subsystem. The handling has beed improved.

[//]: # (Brak komentarza wyjaśniającego cel pull requestu. Komentarz powinien zawierać odnośnik do sekcji 9 manuala Net/FreeBSD)

### Load user program symbols automatically on GDB startup (by JMaz)

Debugging is definitely most time consuming programmer's activity,
therefore any effort made to ease this process quickly pays
back. E.g. you want addresses encountered during a GDB session to be
automagically mapped to source code identifiers. To make GDB aware of
the mapping when debugging Mimiker's user-space programs, you had to
specify program path either in command-line or in .gdbinit. This has
changed and an appriopriate option is passed to GDB by Mimiker's
launch infrastructure by default.

### GDB can access kernel memory even when CPU is in user mode (by JMaz)
### Kernel launch script can pass arguments to init process (by PJas)
### Port ksh (Korn Shell), cat & wc from NetBSD to Mimiker (by Cahir)
### Kernel bootstrap is performed in virtual addresses (by Cahir)
### Memory for pool and kmem allocator is provided lazily (by Cahir)

